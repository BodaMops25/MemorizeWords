<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memorize Words App</title>
  <link rel="stylesheet" href="all.css">
  <link rel="stylesheet" href="index.css">
</head>
<body>

  <a href="settings.html" class="button top-rigth">⚙️</a>

  <h1>Memorize Words App</h1>

  <h3>Words</h3>

  <fieldset class="word-content loading-bar">
    <legend>Word</legend>
    <h4 class="loading-node">Loading ...</h4>
    <p>Loaded words: <span class="loaded-words-num">0</span></p>
  </fieldset>
  <script>
    function LoadingBar(parentSelector, loadingSelector) {
      this.counter = 3
      this.parent = document.querySelector(parentSelector)
      this.node = this.parent.querySelector(loadingSelector)
      this.interval = setInterval(() => {
        if(this.counter > 2) {
          this.node.innerHTML = 'Loading '
          this.counter = 0
        }
        else {
          this.node.innerHTML += '.'
          this.counter++
        }
      }, 500)
      this.remove = () => {
        clearInterval(this.loadingInterval)
        this.parent.remove()
      }
    }

    const loadingBar = new LoadingBar('.loading-bar', '.loading-node')
  </script>

  <fieldset class="word-content word-card opacity0" style="display: none">
    <legend>Word</legend>
    <h3 class="word-title">Word</h3>

    <form class="word-item check-spelling">
      <label for="check_spelling">Check spelling</label>
      <input id="check_spelling" type="text" placeholder="word" autocomplete="off">
      <p class="check-indicator">
        <span>✅</span>
        <span>❌</span>
      </p>
      <br class="chk-btn">
      <button type="submit" class="check-spelling-button chk-btn">Check</button>
    </form>

    <div class="word-item word-variants">
      <button onclick="getNode('.word-variants-content').classList.add('shown')">Show word variants</button>

      <p class="check-indicator">
        <span>✅</span>
        <span>❌</span>
      </p>

      <form class="word-variants-content">
        <div class="field">
          <input id="word_radio_1" type="radio" name="word_radio" value="false">
          <label for="word_radio_1">Word variant 1</label>
        </div>

        <div class="field">
          <input id="word_radio_2" type="radio" name="word_radio" value="false">
          <label for="word_radio_2">Word variant 2</label>
        </div>

        <div class="field">
          <input id="word_radio_3" type="radio" name="word_radio" value="false">
          <label for="word_radio_3">Word variant 3</label>
        </div>

        <div class="field">
          <input id="word_radio_4" type="radio" name="word_radio" value="false">
          <label for="word_radio_4">Word variant 4</label>
        </div>

        <button type="submit" class="check-word-variants chk-btn">Check</button>
      </form>
    </div>

    <div class="word-item memorize-quality">
      <label for="memorize_quality">Memorize quality</label>
      <input id="memorize_quality" type="range" min="1" max="3" value="2">
      <div class="range-numbers">
        <p>1</p>
        <p>2</p>
        <p>3</p>
      </div>
    </div>

    <div class="final-block">
      <button class="save-next">Save & Next</button>
      <span class="next-invoke-date-indicator">1011.01.11</span>
    </div>

  </fieldset>

  <fieldset class="word-content finish-content opacity0" style="display: none">
    <legend>Word</legend>
    <h3>All words processed</h3>
    <a href="">
      <button class="default-button">More</button>
    </a>
  </fieldset>

  <script src="https://fetch-machine.herokuapp.com/fetchMachineClient.js"></script>
  <script src="core.js"></script>
  <script src="index.js"></script>
</body>
</html>